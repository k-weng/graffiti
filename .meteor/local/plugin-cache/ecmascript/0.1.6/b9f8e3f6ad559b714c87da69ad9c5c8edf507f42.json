{"metadata":{"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}},"usedHelpers":[]},"ignored":false,"code":"var linearScale = d3.scale.linear().domain([0, 20]).range([10, 70]);\n\nTemplate.messageSend.events({\n\t\"submit .submit-message\": function (e, t) {\n\n\t\tconsole.log(t.data._id);\n\n\t\te.preventDefault();\n\t\tvar input = $(\"#message-input\").val();\n\n\t\tconsole.log(input);\n\t\tconsole.log(\"submitted\");\n\n\t\t// e.stopPropagation();\n\t\tvar r = 0;\n\t\tif (input.length < 20) {\n\t\t\tr = linearScale(input.length);\n\t\t} else {\n\t\t\tr = 70;\n\t\t}\n\t\tvar message = {\n\t\t\tuserId: Meteor.userId(),\n\t\t\ttext: input,\n\t\t\ttimestamp: Date.now(),\n\t\t\tgroupId: t.data._id,\n\t\t\tgroupName: Session.get(\"currentGroup\"),\n\t\t\ttransparency: 1,\n\t\t\tradius: r,\n\t\t\tlive: 1\n\t\t};\n\n\t\tMeteor.call(\"messageSend\", message, function (err, result) {\n\t\t\tif (err) {\n\t\t\t\treturn alert(\"there's an error\");\n\t\t\t}\n\t\t\t// Router.go('groupPage',{_id: this._id});\n\t\t});\n\n\t\t$(\"#message-input\").val(\"\");\n\t\t// Router.go('groupPage',)\n\t\t// debugger\n\t}\n});","ast":null,"map":{"version":3,"sources":["/client/templates/messages/message_send.js"],"names":[],"mappings":"AAAA,IAAI,WAAW,GAAG,EAAE,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,EAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,CAAC;;AAElE,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC;AAC3B,yBAAwB,EAAE,UAAS,CAAC,EAAE,CAAC,EAAC;;AAEvC,SAAO,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;;AAExB,GAAC,CAAC,cAAc,EAAE,CAAC;AACnB,MAAI,KAAK,GAAG,CAAC,CAAC,gBAAgB,CAAC,CAAC,GAAG,EAAE,CAAC;;AAEtC,SAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AACnB,SAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;;;AAGzB,MAAI,CAAC,GAAG,CAAC,CAAC;AACV,MAAG,KAAK,CAAC,MAAM,GAAC,EAAE,EAAC;AAClB,IAAC,GAAG,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;GAC9B,MACG;AACH,IAAC,GAAG,EAAE,CAAC;GACP;AACD,MAAI,OAAO,GAAG;AACb,SAAM,EAAC,MAAM,CAAC,MAAM,EAAE;AACtB,OAAI,EAAE,KAAK;AACX,YAAS,EAAE,IAAI,CAAC,GAAG,EAAE;AACrB,UAAO,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG;AACnB,YAAS,EAAE,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC;AACtC,eAAY,EAAE,CAAC;AACf,SAAM,EAAC,CAAC;AACR,OAAI,EAAE,CAAC;GACP,CAAC;;AAEF,QAAM,CAAC,IAAI,CAAC,aAAa,EAAE,OAAO,EAAE,UAAS,GAAG,EAAE,MAAM,EAAC;AACxD,OAAG,GAAG,EAAC;AACN,WAAO,KAAK,CAAC,kBAAkB,CAAC,CAAC;IACjC;;GAED,CAAC,CAAC;;AAEH,GAAC,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;;;EAG5B;CACD,CAAC,CAAC","file":"/client/templates/messages/message_send.js.map","sourcesContent":["var linearScale = d3.scale.linear().domain([0,20]).range([10,70]);\n\nTemplate.messageSend.events({\n\t\"submit .submit-message\": function(e, t){\n\n\t\tconsole.log(t.data._id);\n\n\t\te.preventDefault();\n\t\tvar input = $(\"#message-input\").val();\n\n\t\tconsole.log(input);\n\t\tconsole.log(\"submitted\");\n\n\t\t// e.stopPropagation();\n\t\tvar r = 0;\n\t\tif(input.length<20){\n\t\t\tr = linearScale(input.length);\n\t\t}\n\t\telse{\n\t\t\tr = 70;\n\t\t}\n\t\tvar message = {\n\t\t\tuserId:Meteor.userId(), \n\t\t\ttext: input,\n\t\t\ttimestamp: Date.now(),\n\t\t\tgroupId: t.data._id,\n\t\t\tgroupName: Session.get(\"currentGroup\"),\n\t\t\ttransparency: 1,\n\t\t\tradius:r,\n\t\t\tlive: 1\n\t\t};\n\n\t\tMeteor.call(\"messageSend\", message, function(err, result){\n\t\t\tif(err){\n\t\t\t\treturn alert(\"there's an error\");\n\t\t\t}\n\t\t\t// Router.go('groupPage',{_id: this._id});\n\t\t});\n\n\t\t$(\"#message-input\").val(\"\");\n\t\t// Router.go('groupPage',)\n\t\t// debugger\n\t}\n});"]},"hash":"b9f8e3f6ad559b714c87da69ad9c5c8edf507f42"}
