{"metadata":{"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}},"usedHelpers":[]},"ignored":false,"code":"var linearScale = d3.scale.linear().domain([0, 15]).range([15, 60]);\n\nTemplate.messageSend.events({\n\t\"submit .submit-message\": function (e, t) {\n\n\t\tconsole.log(t.data._id);\n\n\t\te.preventDefault();\n\t\tvar input = $(\"#message-input\").val();\n\n\t\tif (input && input.length) {\n\n\t\t\tconsole.log(input);\n\t\t\tconsole.log(\"submitted\");\n\n\t\t\t// e.stopPropagation();\n\t\t\tvar r = 0;\n\t\t\tif (input.length < 15) {\n\t\t\t\tr = linearScale(input.length);\n\t\t\t} else {\n\t\t\t\tr = 60;\n\t\t\t}\n\n\t\t\tvar message = {\n\t\t\t\tuserId: Meteor.userId(),\n\t\t\t\ttext: input,\n\t\t\t\ttimestamp: Date.now(),\n\t\t\t\tgroupId: t.data._id,\n\t\t\t\tgroupName: Session.get(\"currentGroup\"),\n\t\t\t\ttransparency: 1,\n\t\t\t\tradius: r,\n\t\t\t\tlive: 1\n\t\t\t};\n\n\t\t\tMeteor.call(\"messageSend\", message, function (err, result) {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn alert(\"there's an error\");\n\t\t\t\t}\n\t\t\t\t// Router.go('groupPage',{_id: this._id});\n\t\t\t});\n\n\t\t\t$(\"#message-input\").val(\"\");\n\t\t\t$(\"#message-input\").attr(\"placeholder\", \"Say something!\");\n\t\t} else {\n\t\t\t$(\"#message-input\").attr(\"placeholder\", \"You can't say nothing!\");\n\t\t}\n\t\t// Router.go('groupPage',)\n\t\t// debugger\n\t}\n});","ast":null,"map":{"version":3,"sources":["/client/templates/messages/message_send.js"],"names":[],"mappings":"AAAA,IAAI,WAAW,GAAG,EAAE,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,EAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,CAAC;;AAElE,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC;AAC3B,yBAAwB,EAAE,UAAS,CAAC,EAAE,CAAC,EAAC;;AAEvC,SAAO,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;;AAExB,GAAC,CAAC,cAAc,EAAE,CAAC;AACnB,MAAI,KAAK,GAAG,CAAC,CAAC,gBAAgB,CAAC,CAAC,GAAG,EAAE,CAAC;;AAEtC,MAAG,KAAK,IAAI,KAAK,CAAC,MAAM,EAAE;;AAEzB,UAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AACnB,UAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;;;AAGzB,OAAI,CAAC,GAAG,CAAC,CAAC;AACV,OAAG,KAAK,CAAC,MAAM,GAAC,EAAE,EAAE;AACnB,KAAC,GAAG,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IAC9B,MAAK;AACL,KAAC,GAAG,EAAE,CAAC;IACP;;AAED,OAAI,OAAO,GAAG;AACb,UAAM,EAAC,MAAM,CAAC,MAAM,EAAE;AACtB,QAAI,EAAE,KAAK;AACX,aAAS,EAAE,IAAI,CAAC,GAAG,EAAE;AACrB,WAAO,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG;AACnB,aAAS,EAAE,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC;AACtC,gBAAY,EAAE,CAAC;AACf,UAAM,EAAC,CAAC;AACR,QAAI,EAAE,CAAC;IACP,CAAC;;AAEF,SAAM,CAAC,IAAI,CAAC,aAAa,EAAE,OAAO,EAAE,UAAS,GAAG,EAAE,MAAM,EAAE;AACzD,QAAG,GAAG,EAAE;AACP,YAAO,KAAK,CAAC,kBAAkB,CAAC,CAAC;KACjC;;IAED,CAAC,CAAC;;AAEH,IAAC,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;AAC5B,IAAC,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,aAAa,EAAC,gBAAgB,CAAC,CAAC;GACzD,MAAM;AACN,IAAC,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,aAAa,EAAC,wBAAwB,CAAC,CAAC;GACjE;;;EAGD;CACD,CAAC,CAAC","file":"/client/templates/messages/message_send.js.map","sourcesContent":["var linearScale = d3.scale.linear().domain([0,15]).range([15,60]);\n\nTemplate.messageSend.events({\n\t\"submit .submit-message\": function(e, t){\n\n\t\tconsole.log(t.data._id);\n\n\t\te.preventDefault();\n\t\tvar input = $(\"#message-input\").val();\n\n\t\tif(input && input.length) {\n\n\t\t\tconsole.log(input);\n\t\t\tconsole.log(\"submitted\");\n\n\t\t\t// e.stopPropagation();\n\t\t\tvar r = 0;\n\t\t\tif(input.length<15) {\n\t\t\t\tr = linearScale(input.length);\n\t\t\t} else{\n\t\t\t\tr = 60;\n\t\t\t}\n\n\t\t\tvar message = {\n\t\t\t\tuserId:Meteor.userId(), \n\t\t\t\ttext: input,\n\t\t\t\ttimestamp: Date.now(),\n\t\t\t\tgroupId: t.data._id,\n\t\t\t\tgroupName: Session.get(\"currentGroup\"),\n\t\t\t\ttransparency: 1,\n\t\t\t\tradius:r,\n\t\t\t\tlive: 1\n\t\t\t};\n\n\t\t\tMeteor.call(\"messageSend\", message, function(err, result) {\n\t\t\t\tif(err) {\n\t\t\t\t\treturn alert(\"there's an error\");\n\t\t\t\t}\n\t\t\t// Router.go('groupPage',{_id: this._id});\n\t\t\t});\n\n\t\t\t$(\"#message-input\").val(\"\");\n\t\t\t$(\"#message-input\").attr(\"placeholder\",\"Say something!\");\n\t\t} else {\n\t\t\t$(\"#message-input\").attr(\"placeholder\",\"You can't say nothing!\");\n\t\t}\n\t\t// Router.go('groupPage',)\n\t\t// debugger\n\t}\n});"]},"hash":"1b95eba192f5c2427c649dc15670611dc9611da5"}
