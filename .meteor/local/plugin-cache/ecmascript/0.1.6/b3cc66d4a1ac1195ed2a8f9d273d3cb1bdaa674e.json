{"metadata":{"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}},"usedHelpers":[]},"ignored":false,"code":"Router.configure({\n\tlayoutTemplate: 'layout',\n\tloadingTemplate: 'loading',\n\tnotFoundTemplate: 'notFound',\n\twaitOn: function () {\n\t\tconsole.log(\"subscribed\");\n\t\treturn [Meteor.subscribe('groups'), Meteor.subscribe('messages')];\n\t}\n});\n\nvar requireLogin = function () {\n\tif (!Meteor.user()) {\n\t\tthis.render(\"loginRequired\");\n\t} else {\n\t\tthis.next();\n\t}\n};\n\n//Router.route('/send',{name: 'messageSend'});\nRouter.route('/', { name: 'groupList' });\nRouter.route('groups/:_id', {\n\tname: 'groupPage',\n\tdata: function () {\n\t\treturn Groups.findOne(this.params._id);\n\t}\n});\n\nRouter.onBeforeAction('dataNotFound', { only: 'groupPage' });\n// Router.onBeforeAction(function() {\n//     if () {\n//         this.render(\"You are not allowed to access this group\");\n//     } else {\n//         this.next();\n//     }\n// }, {only : 'groupPage'});\nRouter.onBeforeAction(requireLogin, { only: 'messageSend' });","ast":null,"map":{"version":3,"sources":["/lib/router.js"],"names":[],"mappings":"AAAA,MAAM,CAAC,SAAS,CAAC;AAChB,eAAc,EAAE,QAAQ;AACxB,gBAAe,EAAE,SAAS;AAC1B,iBAAgB,EAAE,UAAU;AAC5B,OAAM,EAAE,YAAU;AACjB,SAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;AAC1B,SAAO,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;EAClE;CACD,CAAC,CAAC;;AAEH,IAAI,YAAY,GAAG,YAAU;AAC5B,KAAG,CAAC,MAAM,CAAC,IAAI,EAAE,EAAC;AACjB,MAAI,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;EAC7B,MAAI;AACJ,MAAI,CAAC,IAAI,EAAE,CAAC;EACZ;CACD,CAAA;;;AAGD,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,EAAC,IAAI,EAAE,WAAW,EAAC,CAAC,CAAC;AACvC,MAAM,CAAC,KAAK,CAAC,aAAa,EAC1B;AACC,KAAI,EAAE,WAAW;AACjB,KAAI,EAAE,YAAW;AAChB,SAAO,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;EACvC;CACD,CAAC,CAAC;;AAEH,MAAM,CAAC,cAAc,CAAC,cAAc,EAAE,EAAC,IAAI,EAAE,WAAW,EAAC,CAAC,CAAC;;;;;;;;AAQ3D,MAAM,CAAC,cAAc,CAAC,YAAY,EAAC,EAAC,IAAI,EAAC,aAAa,EAAC,CAAC,CAAC","file":"/lib/router.js.map","sourcesContent":["Router.configure({\n\tlayoutTemplate: 'layout',\n\tloadingTemplate: 'loading',\n\tnotFoundTemplate: 'notFound',\n\twaitOn: function(){\n\t\tconsole.log(\"subscribed\");\n\t\treturn [Meteor.subscribe('groups'), Meteor.subscribe('messages')];\n\t}\n});\n\nvar requireLogin = function(){\n\tif(!Meteor.user()){\n\t\tthis.render(\"loginRequired\");\n\t}else{\n\t\tthis.next();\n\t}\n}\n\n//Router.route('/send',{name: 'messageSend'});\nRouter.route('/', {name: 'groupList'});\nRouter.route('groups/:_id',\n{\n\tname: 'groupPage',\n\tdata: function() {\n\t\treturn Groups.findOne(this.params._id);\n\t}\n});\n\nRouter.onBeforeAction('dataNotFound', {only: 'groupPage'});\n// Router.onBeforeAction(function() {\n//     if () {\n//         this.render(\"You are not allowed to access this group\");\n//     } else {\n//         this.next();\n//     }\n// }, {only : 'groupPage'});\nRouter.onBeforeAction(requireLogin,{only:'messageSend'});\n"]},"hash":"b3cc66d4a1ac1195ed2a8f9d273d3cb1bdaa674e"}
