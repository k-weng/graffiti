[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nSession = Package.session.Session;\n$ = Package.jquery.$;\njQuery = Package.jquery.jQuery;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nDate = Package['es5-shim'].Date;\nparseInt = Package['es5-shim'].parseInt;\nECMAScript = Package.ecmascript.ECMAScript;\nRouter = Package['iron:router'].Router;\nRouteController = Package['iron:router'].RouteController;\n_ = Package.underscore._;\nd3 = Package.d3.d3;\nMeteor = Package.meteor.Meteor;\nWebApp = Package.webapp.WebApp;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nTemplate = Package.templating.Template;\nbabelHelpers = Package['babel-runtime'].babelHelpers;\nSymbol = Package['ecmascript-runtime'].Symbol;\nMap = Package['ecmascript-runtime'].Map;\nSet = Package['ecmascript-runtime'].Set;\nPromise = Package.promise.Promise;\nIron = Package['iron:core'].Iron;\nAccounts = Package['accounts-base'].Accounts;\nAccountsClient = Package['accounts-base'].AccountsClient;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"(function(){\nTemplate.__checkName(\"header\");\nTemplate[\"header\"] = new Template(\"Template.header\", (function() {\n  var view = this;\n  return [ HTML.A({\n    \"class\": \"logo\",\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"groupList\");\n    }\n  }, \"Fade\"), \"\\n\t\", HTML.P({\n    \"class\": \"login\"\n  }, Spacebars.include(view.lookupTemplate(\"loginButtons\"))) ];\n}));\n\n}).call(this);\n","servePath":"/client/templates/application/template.header.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/client/templates/application/template.header.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/client/templates/application/template.header.js","sourcesContent":["\nTemplate.__checkName(\"header\");\nTemplate[\"header\"] = new Template(\"Template.header\", (function() {\n  var view = this;\n  return [ HTML.A({\n    \"class\": \"logo\",\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"groupList\");\n    }\n  }, \"Fade\"), \"\\n\t\", HTML.P({\n    \"class\": \"login\"\n  }, Spacebars.include(view.lookupTemplate(\"loginButtons\"))) ];\n}));\n"]}},{"type":"js","data":"(function(){\nTemplate.__checkName(\"layout\");\nTemplate[\"layout\"] = new Template(\"Template.layout\", (function() {\n  var view = this;\n  return [ Spacebars.include(view.lookupTemplate(\"header\")), \"\\n\\n\t\", HTML.DIV({\n    id: \"main\"\n  }, \"\\n\t\t\", Spacebars.include(view.lookupTemplate(\"yield\")), \"\\n\t\"), HTML.Raw(\"\\n\\n\t<hr>\\n    <p>Team Boba</p>\") ];\n}));\n\n}).call(this);\n","servePath":"/client/templates/application/template.layout.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/client/templates/application/template.layout.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/client/templates/application/template.layout.js","sourcesContent":["\nTemplate.__checkName(\"layout\");\nTemplate[\"layout\"] = new Template(\"Template.layout\", (function() {\n  var view = this;\n  return [ Spacebars.include(view.lookupTemplate(\"header\")), \"\\n\\n\t\", HTML.DIV({\n    id: \"main\"\n  }, \"\\n\t\t\", Spacebars.include(view.lookupTemplate(\"yield\")), \"\\n\t\"), HTML.Raw(\"\\n\\n\t<hr>\\n    <p>Team Boba</p>\") ];\n}));\n"]}},{"type":"js","data":"(function(){\nTemplate.__checkName(\"loading\");\nTemplate[\"loading\"] = new Template(\"Template.loading\", (function() {\n  var view = this;\n  return HTML.Raw(\"<p>Loading</p>\");\n}));\n\n}).call(this);\n","servePath":"/client/templates/application/template.loading.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/client/templates/application/template.loading.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA","file":"/client/templates/application/template.loading.js","sourcesContent":["\nTemplate.__checkName(\"loading\");\nTemplate[\"loading\"] = new Template(\"Template.loading\", (function() {\n  var view = this;\n  return HTML.Raw(\"<p>Loading</p>\");\n}));\n"]}},{"type":"js","data":"(function(){\nTemplate.__checkName(\"loginRequired\");\nTemplate[\"loginRequired\"] = new Template(\"Template.loginRequired\", (function() {\n  var view = this;\n  return HTML.Raw(\"<p>You need to be logged in. </p>\");\n}));\n\n}).call(this);\n","servePath":"/client/templates/application/template.login_required.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/client/templates/application/template.login_required.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA","file":"/client/templates/application/template.login_required.js","sourcesContent":["\nTemplate.__checkName(\"loginRequired\");\nTemplate[\"loginRequired\"] = new Template(\"Template.loginRequired\", (function() {\n  var view = this;\n  return HTML.Raw(\"<p>You need to be logged in. </p>\");\n}));\n"]}},{"type":"js","data":"(function(){\nTemplate.__checkName(\"notFound\");\nTemplate[\"notFound\"] = new Template(\"Template.notFound\", (function() {\n  var view = this;\n  return HTML.Raw('<div class=\"not-found page jumbotron\">\\n    <h2>404</h2>\\n    <p>Sorry, we couldn\\'t find a page at this address.</p>\\n  </div>');\n}));\n\n}).call(this);\n","servePath":"/client/templates/application/template.not_found.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/client/templates/application/template.not_found.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA","file":"/client/templates/application/template.not_found.js","sourcesContent":["\nTemplate.__checkName(\"notFound\");\nTemplate[\"notFound\"] = new Template(\"Template.notFound\", (function() {\n  var view = this;\n  return HTML.Raw('<div class=\"not-found page jumbotron\">\\n    <h2>404</h2>\\n    <p>Sorry, we couldn\\'t find a page at this address.</p>\\n  </div>');\n}));\n"]}},{"type":"js","data":"(function(){\nTemplate.__checkName(\"addGroup\");\nTemplate[\"addGroup\"] = new Template(\"Template.addGroup\", (function() {\n  var view = this;\n  return HTML.Raw('<form class=\"add-group\">\\n\t\t<input type=\"text\" id=\"groupName\">\\n\t\t<input type=\"submit\" name=\"Submit\">\\n\t</form>');\n}));\n\n}).call(this);\n","servePath":"/client/templates/groups/template.add_group.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/client/templates/groups/template.add_group.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA","file":"/client/templates/groups/template.add_group.js","sourcesContent":["\nTemplate.__checkName(\"addGroup\");\nTemplate[\"addGroup\"] = new Template(\"Template.addGroup\", (function() {\n  var view = this;\n  return HTML.Raw('<form class=\"add-group\">\\n\t\t<input type=\"text\" id=\"groupName\">\\n\t\t<input type=\"submit\" name=\"Submit\">\\n\t</form>');\n}));\n"]}},{"type":"js","data":"(function(){\nTemplate.__checkName(\"addUser\");\nTemplate[\"addUser\"] = new Template(\"Template.addUser\", (function() {\n  var view = this;\n  return HTML.Raw('<form class=\"add-user\">\\n\t\t<input type=\"text\" id=\"userName\">\\n\t\t<input type=\"submit\" name=\"Submit\">\\n\t</form>');\n}));\n\n}).call(this);\n","servePath":"/client/templates/groups/template.add_user.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/client/templates/groups/template.add_user.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA","file":"/client/templates/groups/template.add_user.js","sourcesContent":["\nTemplate.__checkName(\"addUser\");\nTemplate[\"addUser\"] = new Template(\"Template.addUser\", (function() {\n  var view = this;\n  return HTML.Raw('<form class=\"add-user\">\\n\t\t<input type=\"text\" id=\"userName\">\\n\t\t<input type=\"submit\" name=\"Submit\">\\n\t</form>');\n}));\n"]}},{"type":"js","data":"(function(){\nTemplate.__checkName(\"deleteGroup\");\nTemplate[\"deleteGroup\"] = new Template(\"Template.deleteGroup\", (function() {\n  var view = this;\n  return HTML.Raw('<form class=\"delete-group\">\\n\t\t<input type=\"submit\" value=\"Delete Group\">\\n\t</form>');\n}));\n\n}).call(this);\n","servePath":"/client/templates/groups/template.delete_group.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/client/templates/groups/template.delete_group.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA","file":"/client/templates/groups/template.delete_group.js","sourcesContent":["\nTemplate.__checkName(\"deleteGroup\");\nTemplate[\"deleteGroup\"] = new Template(\"Template.deleteGroup\", (function() {\n  var view = this;\n  return HTML.Raw('<form class=\"delete-group\">\\n\t\t<input type=\"submit\" value=\"Delete Group\">\\n\t</form>');\n}));\n"]}},{"type":"js","data":"(function(){\nTemplate.__checkName(\"group\");\nTemplate[\"group\"] = new Template(\"Template.group\", (function() {\n  var view = this;\n  return HTML.LI(HTML.A({\n    \"class\": \"group\",\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"groupPage\");\n    }\n  }, Blaze.View(\"lookup:name\", function() {\n    return Spacebars.mustache(view.lookup(\"name\"));\n  })));\n}));\n\n}).call(this);\n","servePath":"/client/templates/groups/template.group.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/client/templates/groups/template.group.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/client/templates/groups/template.group.js","sourcesContent":["\nTemplate.__checkName(\"group\");\nTemplate[\"group\"] = new Template(\"Template.group\", (function() {\n  var view = this;\n  return HTML.LI(HTML.A({\n    \"class\": \"group\",\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"groupPage\");\n    }\n  }, Blaze.View(\"lookup:name\", function() {\n    return Spacebars.mustache(view.lookup(\"name\"));\n  })));\n}));\n"]}},{"type":"js","data":"(function(){\nTemplate.__checkName(\"groupList\");\nTemplate[\"groupList\"] = new Template(\"Template.groupList\", (function() {\n  var view = this;\n  return Blaze.Unless(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n  \t\t\", HTML.H1(\"Login Please\"), \"\\n  \t\" ];\n  }, function() {\n    return [ \"\\n  \t\", HTML.P({\n      \"class\": \"add-group\"\n    }, Spacebars.include(view.lookupTemplate(\"addGroup\"))), \"\\n\t\", HTML.H1(\"Groups:\"), \"\\n  \t\t\", HTML.UL(\"\\n\t\t\t\", Blaze.Each(function() {\n      return Spacebars.call(view.lookup(\"groups\"));\n    }, function() {\n      return [ \"\\n\t\t\t\t\", Spacebars.include(view.lookupTemplate(\"group\")), \"\\n\t\t\t\" ];\n    }), \"\\n\t\t\"), \"\\n\t\" ];\n  });\n}));\n\n}).call(this);\n","servePath":"/client/templates/groups/template.group_list.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/client/templates/groups/template.group_list.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/client/templates/groups/template.group_list.js","sourcesContent":["\nTemplate.__checkName(\"groupList\");\nTemplate[\"groupList\"] = new Template(\"Template.groupList\", (function() {\n  var view = this;\n  return Blaze.Unless(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n  \t\t\", HTML.H1(\"Login Please\"), \"\\n  \t\" ];\n  }, function() {\n    return [ \"\\n  \t\", HTML.P({\n      \"class\": \"add-group\"\n    }, Spacebars.include(view.lookupTemplate(\"addGroup\"))), \"\\n\t\", HTML.H1(\"Groups:\"), \"\\n  \t\t\", HTML.UL(\"\\n\t\t\t\", Blaze.Each(function() {\n      return Spacebars.call(view.lookup(\"groups\"));\n    }, function() {\n      return [ \"\\n\t\t\t\t\", Spacebars.include(view.lookupTemplate(\"group\")), \"\\n\t\t\t\" ];\n    }), \"\\n\t\t\"), \"\\n\t\" ];\n  });\n}));\n"]}},{"type":"js","data":"(function(){\nTemplate.__checkName(\"groupPage\");\nTemplate[\"groupPage\"] = new Template(\"Template.groupPage\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n\t\", HTML.H1(Blaze.View(\"lookup:name\", function() {\n      return Spacebars.mustache(view.lookup(\"name\"));\n    })), \"\\n\t\", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"ownerOf\"));\n    }, function() {\n      return [ \"\\n\t\t\", HTML.P(Spacebars.include(view.lookupTemplate(\"deleteGroup\"))), \"\\n\t\" ];\n    }), \"\\n\t\", HTML.P({\n      \"class\": \"add-user\"\n    }, Spacebars.include(view.lookupTemplate(\"addUser\"))), \"\\n\t\", Spacebars.include(view.lookupTemplate(\"messageList\")), \"\\n\t\", HTML.Comment(' <a href={{pathFor \"messageSend\"}}>Send</a> '), \"\\n\t\t\", Spacebars.include(view.lookupTemplate(\"messageSend\")), \"\\n\t\" ];\n  }, function() {\n    return [ \"\\n\t\t\", HTML.P(\" Login please \"), \"\\n\t\" ];\n  });\n}));\n\n}).call(this);\n","servePath":"/client/templates/groups/template.group_page.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/client/templates/groups/template.group_page.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/client/templates/groups/template.group_page.js","sourcesContent":["\nTemplate.__checkName(\"groupPage\");\nTemplate[\"groupPage\"] = new Template(\"Template.groupPage\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n\t\", HTML.H1(Blaze.View(\"lookup:name\", function() {\n      return Spacebars.mustache(view.lookup(\"name\"));\n    })), \"\\n\t\", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"ownerOf\"));\n    }, function() {\n      return [ \"\\n\t\t\", HTML.P(Spacebars.include(view.lookupTemplate(\"deleteGroup\"))), \"\\n\t\" ];\n    }), \"\\n\t\", HTML.P({\n      \"class\": \"add-user\"\n    }, Spacebars.include(view.lookupTemplate(\"addUser\"))), \"\\n\t\", Spacebars.include(view.lookupTemplate(\"messageList\")), \"\\n\t\", HTML.Comment(' <a href={{pathFor \"messageSend\"}}>Send</a> '), \"\\n\t\t\", Spacebars.include(view.lookupTemplate(\"messageSend\")), \"\\n\t\" ];\n  }, function() {\n    return [ \"\\n\t\t\", HTML.P(\" Login please \"), \"\\n\t\" ];\n  });\n}));\n"]}},{"type":"js","data":"(function(){\nTemplate.__checkName(\"message\");\nTemplate[\"message\"] = new Template(\"Template.message\", (function() {\n  var view = this;\n  return [ HTML.Raw(\"<h1> Message </h1>\\n\t\"), HTML.UL(\"\\n\t\t\", HTML.Raw(\"<!-- <li> {{getUsername userId}} </li> -->\"), \"\\n\t\t\", HTML.LI(\" \", Blaze.View(\"lookup:username\", function() {\n    return Spacebars.mustache(view.lookup(\"username\"));\n  }), \" \"), \"\\n\t\t\", HTML.LI(\" \", Blaze.View(\"lookup:text\", function() {\n    return Spacebars.mustache(view.lookup(\"text\"));\n  }), \" \"), \"\\n\t\t\", HTML.LI(\" \", Blaze.View(\"lookup:timestamp\", function() {\n    return Spacebars.mustache(view.lookup(\"timestamp\"));\n  }), \" \"), \"\\n\t\t\", HTML.LI(\" \", Blaze.View(\"lookup:groupId\", function() {\n    return Spacebars.mustache(view.lookup(\"groupId\"));\n  }), \" \"), \"\\n\t\t\", HTML.LI(\" \", Blaze.View(\"lookup:groupName\", function() {\n    return Spacebars.mustache(view.lookup(\"groupName\"));\n  }), \" \"), \"\\n\t\t\", HTML.Raw(\"<!-- <li> {{life}} </li> -->\"), \"\\n\t\") ];\n}));\n\n}).call(this);\n","servePath":"/client/templates/messages/template.message.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/client/templates/messages/template.message.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/client/templates/messages/template.message.js","sourcesContent":["\nTemplate.__checkName(\"message\");\nTemplate[\"message\"] = new Template(\"Template.message\", (function() {\n  var view = this;\n  return [ HTML.Raw(\"<h1> Message </h1>\\n\t\"), HTML.UL(\"\\n\t\t\", HTML.Raw(\"<!-- <li> {{getUsername userId}} </li> -->\"), \"\\n\t\t\", HTML.LI(\" \", Blaze.View(\"lookup:username\", function() {\n    return Spacebars.mustache(view.lookup(\"username\"));\n  }), \" \"), \"\\n\t\t\", HTML.LI(\" \", Blaze.View(\"lookup:text\", function() {\n    return Spacebars.mustache(view.lookup(\"text\"));\n  }), \" \"), \"\\n\t\t\", HTML.LI(\" \", Blaze.View(\"lookup:timestamp\", function() {\n    return Spacebars.mustache(view.lookup(\"timestamp\"));\n  }), \" \"), \"\\n\t\t\", HTML.LI(\" \", Blaze.View(\"lookup:groupId\", function() {\n    return Spacebars.mustache(view.lookup(\"groupId\"));\n  }), \" \"), \"\\n\t\t\", HTML.LI(\" \", Blaze.View(\"lookup:groupName\", function() {\n    return Spacebars.mustache(view.lookup(\"groupName\"));\n  }), \" \"), \"\\n\t\t\", HTML.Raw(\"<!-- <li> {{life}} </li> -->\"), \"\\n\t\") ];\n}));\n"]}},{"type":"js","data":"(function(){\nTemplate.__checkName(\"messageList\");\nTemplate[\"messageList\"] = new Template(\"Template.messageList\", (function() {\n  var view = this;\n  return HTML.Raw('<!-- {{#each messages}}\\n\t\t{{> message}}\\n\t{{/each}} -->\\n\t<div id=\"vis\"><div id=\"bubble-labels\"></div></div>');\n}));\n\n}).call(this);\n","servePath":"/client/templates/messages/template.message_list.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/client/templates/messages/template.message_list.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA","file":"/client/templates/messages/template.message_list.js","sourcesContent":["\nTemplate.__checkName(\"messageList\");\nTemplate[\"messageList\"] = new Template(\"Template.messageList\", (function() {\n  var view = this;\n  return HTML.Raw('<!-- {{#each messages}}\\n\t\t{{> message}}\\n\t{{/each}} -->\\n\t<div id=\"vis\"><div id=\"bubble-labels\"></div></div>');\n}));\n"]}},{"type":"js","data":"(function(){\nTemplate.__checkName(\"messageSend\");\nTemplate[\"messageSend\"] = new Template(\"Template.messageSend\", (function() {\n  var view = this;\n  return HTML.Raw('<form class=\"submit-message\">\\n\t\t<input type=\"text\" id=\"message-input\" placeholder=\"comment\">\\n\t</form>');\n}));\n\n}).call(this);\n","servePath":"/client/templates/messages/template.message_send.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/client/templates/messages/template.message_send.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA","file":"/client/templates/messages/template.message_send.js","sourcesContent":["\nTemplate.__checkName(\"messageSend\");\nTemplate[\"messageSend\"] = new Template(\"Template.messageSend\", (function() {\n  var view = this;\n  return HTML.Raw('<form class=\"submit-message\">\\n\t\t<input type=\"text\" id=\"message-input\" placeholder=\"comment\">\\n\t</form>');\n}));\n"]}},{"type":"js","data":"(function(){\n\n/////////////////////////////////////////////////////////////////////////\n//                                                                     //\n// lib/collections/groups.js                                           //\n//                                                                     //\n/////////////////////////////////////////////////////////////////////////\n                                                                       //\nGroups = new Mongo.Collection('groups');                               // 1\n                                                                       //\nGroups.allow({                                                         // 3\n\tinsert: function (userId, doc) {                                      // 4\n\t\treturn !!userId;                                                     // 5\n\t}                                                                     //\n});                                                                    //\n                                                                       //\nMeteor.methods({                                                       // 9\n\taddUser: function (newUser, specificGroup) {                          // 10\n\t\tconsole.log(\"Trying deeper\");                                        // 11\n\t\tGroups.update({ _id: specificGroup }, { $push: { people: newUser } });\n\t\t//console.log(currentGroup);                                         //\n\t},                                                                    //\n\tdeleteGroup: function (specificGroup) {                               // 15\n\t\t//Router.go('/');                                                    //\n\t\tconsole.log(specificGroup);                                          // 17\n\t\tGroups.remove(specificGroup);                                        // 18\n\t\tconsole.log(\"Deleted\");                                              // 19\n\t}                                                                     //\n});                                                                    //\n/////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n","servePath":"/lib/collections/groups.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/lib/collections/groups.js"],"names":[],"mappings":";;;;;;;;AAAA,MAAM,GAAG,IAAI,KAAK,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;;AAExC,MAAM,CAAC,KAAK,CAAC;AACZ,OAAM,EAAE,UAAS,MAAM,EAAE,GAAG,EAAC;AAC5B,SAAO,CAAC,CAAE,MAAM,CAAC;EACjB;CACD,CAAC,CAAC;;AAEH,MAAM,CAAC,OAAO,CAAC;AACd,QAAO,EAAE,UAAU,OAAO,EAAE,aAAa,EAAE;AAC1C,SAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;AAC7B,QAAM,CAAC,MAAM,CAAC,EAAC,GAAG,EAAE,aAAa,EAAC,EAAE,EAAC,KAAK,EAAE,EAAC,MAAM,EAAE,OAAO,EAAC,EAAC,CAAC,CAAC;;EAEhE;AACD,YAAW,EAAE,UAAU,aAAa,EAAE;;AAErC,SAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;AAC3B,QAAM,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;AAC7B,SAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;EACvB;CACD,CAAC,CAAC,sE","file":"/lib/collections/groups.js","sourcesContent":["Groups = new Mongo.Collection('groups');\n\nGroups.allow({\n\tinsert: function(userId, doc){\n\t\treturn !! userId;\n\t}\n});\n\nMeteor.methods({\n\taddUser: function (newUser, specificGroup) {\n\t\tconsole.log(\"Trying deeper\");\n\t\tGroups.update({_id: specificGroup}, {$push: {people: newUser}});\n\t\t\t\t//console.log(currentGroup);\n\t},\n\tdeleteGroup: function (specificGroup) {\n\t\t//Router.go('/');\n\t\tconsole.log(specificGroup);\n\t\tGroups.remove(specificGroup);\n\t\tconsole.log(\"Deleted\");\n\t}\n});\n\n"]}},{"type":"js","data":"(function(){\n\n/////////////////////////////////////////////////////////////////////////\n//                                                                     //\n// lib/collections/messages.js                                         //\n//                                                                     //\n/////////////////////////////////////////////////////////////////////////\n                                                                       //\nMessages = new Mongo.Collection('messages');                           // 1\n                                                                       //\nMessages.allow({                                                       // 3\n\tinsert: function (userId, doc) {                                      // 4\n\t\treturn !!userId;                                                     // 5\n\t}                                                                     //\n});                                                                    //\n                                                                       //\nMeteor.methods({                                                       // 9\n                                                                       //\n\tmessageSend: function (message) {                                     // 11\n\t\tvar maxLife = 2 * 5 * 1000;                                          // 12\n\t\tvar newMsg = _.extend(message, {                                     // 13\n\t\t\tuderID: Meteor.user()._id,                                          // 14\n\t\t\tusername: Meteor.user().username,                                   // 15\n\t\t\tvotes: 0,                                                           // 16\n\t\t\t// radius:linearScale(message.text.length()),                       //\n\t\t\tlife: maxLife,                                                      // 18\n\t\t\tvoters: []                                                          // 19\n\t\t\t// groupName: Groups.find({_id:message.groupId})                    //\n\t\t});                                                                  //\n\t\tvar id = Messages.insert(newMsg);                                    // 22\n\t\treturn { _id: id };                                                  // 23\n\t}                                                                     //\n                                                                       //\n});                                                                    //\n/////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n","servePath":"/lib/collections/messages.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/lib/collections/messages.js"],"names":[],"mappings":";;;;;;;;AAAA,QAAQ,GAAG,IAAI,KAAK,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;;AAE5C,QAAQ,CAAC,KAAK,CAAC;AACd,OAAM,EAAE,UAAS,MAAM,EAAE,GAAG,EAAC;AAC5B,SAAO,CAAC,CAAE,MAAM,CAAC;EACjB;CACD,CAAC,CAAC;;AAEH,MAAM,CAAC,OAAO,CAAC;;AAEd,YAAW,EAAE,UAAS,OAAO,EAAC;AAC7B,MAAI,OAAO,GAAI,CAAC,GAAG,CAAE,GAAE,IAAK,CAAC;AAC7B,MAAI,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC,OAAO,EAAC;AAC7B,SAAM,EAAE,MAAM,CAAC,IAAI,EAAE,CAAC,GAAG;AACzB,WAAQ,EAAE,MAAM,CAAC,IAAI,EAAE,CAAC,QAAQ;AAChC,QAAK,EAAC,CAAC;;AAEP,OAAI,EAAE,OAAO;AACb,SAAM,EAAC,EAAE;;GAET,CAAC,CAAC;AACH,MAAI,EAAE,GAAG,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;AACjC,SAAO,EAAC,GAAG,EAAE,EAAE,EAAC,CAAC;EACjB;;CAED,CAAC,CAAC,sE","file":"/lib/collections/messages.js","sourcesContent":["Messages = new Mongo.Collection('messages');\n\nMessages.allow({\n\tinsert: function(userId, doc){\n\t\treturn !! userId;\n\t}\n});\n\nMeteor.methods({\n\t\n\tmessageSend: function(message){\n\t\tvar maxLife = (2)*(5)*(1000);\n\t\tvar newMsg = _.extend(message,{\n\t\t\tuderID: Meteor.user()._id,\n\t\t\tusername: Meteor.user().username,\n\t\t\tvotes:0,\n\t\t\t// radius:linearScale(message.text.length()),\n\t\t\tlife: maxLife,\n\t\t\tvoters:[]\n\t\t\t// groupName: Groups.find({_id:message.groupId})\n\t\t});\n\t\tvar id = Messages.insert(newMsg);\n\t\treturn {_id: id};\n\t}\n\n});"]}},{"type":"js","data":"(function(){\n\n/////////////////////////////////////////////////////////////////////////\n//                                                                     //\n// lib/router.js                                                       //\n//                                                                     //\n/////////////////////////////////////////////////////////////////////////\n                                                                       //\nRouter.configure({                                                     // 1\n\tlayoutTemplate: 'layout',                                             // 2\n\tloadingTemplate: 'loading',                                           // 3\n\tnotFoundTemplate: 'notFound',                                         // 4\n\twaitOn: function () {                                                 // 5\n\t\tconsole.log(\"subscribed\");                                           // 6\n\t\treturn [Meteor.subscribe('groups'), Meteor.subscribe('messages')];   // 7\n\t}                                                                     //\n});                                                                    //\n                                                                       //\nvar requireLogin = function () {                                       // 11\n\tif (!Meteor.user()) {                                                 // 12\n\t\tthis.render(\"loginRequired\");                                        // 13\n\t} else {                                                              //\n\t\tthis.next();                                                         // 15\n\t}                                                                     //\n};                                                                     //\n                                                                       //\n//Router.route('/send',{name: 'messageSend'});                         //\nRouter.route('/', { name: 'groupList' });                              // 20\nRouter.route('groups/:_id', {                                          // 21\n\tname: 'groupPage',                                                    // 23\n\tdata: function () {                                                   // 24\n\t\treturn Groups.findOne(this.params._id);                              // 25\n\t}                                                                     //\n});                                                                    //\n                                                                       //\nRouter.onBeforeAction('dataNotFound', { only: 'groupPage' });          // 29\n// Router.onBeforeAction(function() {                                  //\n//     if () {                                                         //\n//         this.render(\"You are not allowed to access this group\");    //\n//     } else {                                                        //\n//         this.next();                                                //\n//     }                                                               //\n// }, {only : 'groupPage'});                                           //\nRouter.onBeforeAction(requireLogin, { only: 'messageSend' });          // 37\n/////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n","servePath":"/lib/router.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/lib/router.js"],"names":[],"mappings":";;;;;;;;AAAA,MAAM,CAAC,SAAS,CAAC;AAChB,eAAc,EAAE,QAAQ;AACxB,gBAAe,EAAE,SAAS;AAC1B,iBAAgB,EAAE,UAAU;AAC5B,OAAM,EAAE,YAAU;AACjB,SAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;AAC1B,SAAO,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;EAClE;CACD,CAAC,CAAC;;AAEH,IAAI,YAAY,GAAG,YAAU;AAC5B,KAAG,CAAC,MAAM,CAAC,IAAI,EAAE,EAAC;AACjB,MAAI,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;EAC7B,MAAI;AACJ,MAAI,CAAC,IAAI,EAAE,CAAC;EACZ;CACD;;;AAGD,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,EAAC,IAAI,EAAE,WAAW,EAAC,CAAC,CAAC;AACvC,MAAM,CAAC,KAAK,CAAC,aAAa,EAC1B;AACC,KAAI,EAAE,WAAW;AACjB,KAAI,EAAE,YAAW;AAChB,SAAO,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;EACvC;CACD,CAAC,CAAC;;AAEH,MAAM,CAAC,cAAc,CAAC,cAAc,EAAE,EAAC,IAAI,EAAE,WAAW,EAAC,CAAC,CAAC;;;;;;;;AAQ3D,MAAM,CAAC,cAAc,CAAC,YAAY,EAAC,EAAC,IAAI,EAAC,aAAa,EAAC,CAAC,CAAC,e","file":"/lib/router.js","sourcesContent":["Router.configure({\n\tlayoutTemplate: 'layout',\n\tloadingTemplate: 'loading',\n\tnotFoundTemplate: 'notFound',\n\twaitOn: function(){\n\t\tconsole.log(\"subscribed\");\n\t\treturn [Meteor.subscribe('groups'), Meteor.subscribe('messages')];\n\t}\n});\n\nvar requireLogin = function(){\n\tif(!Meteor.user()){\n\t\tthis.render(\"loginRequired\");\n\t}else{\n\t\tthis.next();\n\t}\n}\n\n//Router.route('/send',{name: 'messageSend'});\nRouter.route('/', {name: 'groupList'});\nRouter.route('groups/:_id',\n{\n\tname: 'groupPage',\n\tdata: function() {\n\t\treturn Groups.findOne(this.params._id);\n\t}\n});\n\nRouter.onBeforeAction('dataNotFound', {only: 'groupPage'});\n// Router.onBeforeAction(function() {\n//     if () {\n//         this.render(\"You are not allowed to access this group\");\n//     } else {\n//         this.next();\n//     }\n// }, {only : 'groupPage'});\nRouter.onBeforeAction(requireLogin,{only:'messageSend'});\n"]}},{"type":"js","data":"(function(){\n\n/////////////////////////////////////////////////////////////////////////\n//                                                                     //\n// lib/users.js                                                        //\n//                                                                     //\n/////////////////////////////////////////////////////////////////////////\n                                                                       //\nMeteor.users.deny({                                                    // 1\n  update: function () {                                                // 2\n    return true;                                                       // 3\n  }                                                                    //\n});                                                                    //\n/////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n","servePath":"/lib/users.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/lib/users.js"],"names":[],"mappings":";;;;;;;;AAAA,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC;AAChB,QAAM,EAAE,YAAW;AACjB,WAAO,IAAI,CAAC;GACb;CACF,CAAC,CAAC,sE","file":"/lib/users.js","sourcesContent":["Meteor.users.deny({\n  update: function() {\n    return true;\n  }\n});\n"]}},{"type":"js","data":"(function(){\n\n/////////////////////////////////////////////////////////////////////////\n//                                                                     //\n// client/templates/groups/add_group.js                                //\n//                                                                     //\n/////////////////////////////////////////////////////////////////////////\n                                                                       //\nTemplate.addGroup.events({                                             // 1\n\t'submit .add-group': function (e) {                                   // 2\n\t\te.preventDefault();                                                  // 3\n\t\tvar groupName = $(\"#groupName\").val();                               // 4\n\t\tvar currentUser = Meteor.user().username;                            // 5\n\t\te.stopPropagation();                                                 // 6\n\t\tif (Groups.findOne({ name: groupName, createdBy: currentUser }) == null) {\n\t\t\tGroups.insert({                                                     // 8\n\t\t\t\tname: groupName,                                                   // 9\n\t\t\t\tpeople: [currentUser],                                             // 10\n\t\t\t\tcreatedBy: currentUser                                             // 11\n\t\t\t});                                                                 //\n\t\t\tconsole.log(Groups.findOne({ name: groupName, createdBy: currentUser }));\n\t\t\tconsole.log(\"New group added\");                                     // 14\n\t\t} else {                                                             //\n\t\t\tconsole.log(\"Didn't happen\");                                       // 18\n\t\t}                                                                    //\n\t}                                                                     //\n});                                                                    //\n/////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n","servePath":"/client/templates/groups/add_group.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/client/templates/groups/add_group.js"],"names":[],"mappings":";;;;;;;;AAAA,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC;AACxB,oBAAmB,EAAE,UAAS,CAAC,EAAE;AAChC,GAAC,CAAC,cAAc,EAAE,CAAC;AACnB,MAAI,SAAS,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,GAAG,EAAE,CAAC;AACtC,MAAI,WAAW,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC,QAAQ,CAAC;AACzC,GAAC,CAAC,eAAe,EAAE,CAAC;AACpB,MAAI,MAAM,CAAC,OAAO,CAAC,EAAC,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,WAAW,EAAC,CAAC,IAAI,IAAI,EAAE;AACtE,SAAM,CAAC,MAAM,CAAC;AACb,QAAI,EAAE,SAAS;AACf,UAAM,EAAE,CAAC,WAAW,CAAC;AACrB,aAAS,EAAE,WAAW;IACtB,CAAC,CAAC;AACH,UAAO,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,EAAC,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,WAAW,EAAC,CAAC,CAAC,CAAC;AACvE,UAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;GAG/B,MAAM;AACN,UAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;GAC7B;EAED;CACD,CAAC,uE","file":"/client/templates/groups/add_group.js","sourcesContent":["Template.addGroup.events({\n\t'submit .add-group': function(e) {\n\t\te.preventDefault();\n\t\tvar groupName = $(\"#groupName\").val();\n\t\tvar currentUser = Meteor.user().username;\n\t\te.stopPropagation();\n\t\tif (Groups.findOne({name: groupName, createdBy: currentUser}) == null) {\n\t\t\tGroups.insert({\n\t\t\t\tname: groupName,\n\t\t\t\tpeople: [currentUser],\n\t\t\t\tcreatedBy: currentUser\n\t\t\t});\n\t\t\tconsole.log(Groups.findOne({name: groupName, createdBy: currentUser}));\n\t\t\tconsole.log(\"New group added\");\n\n\t\t\t\n\t\t} else {\n\t\t\tconsole.log(\"Didn't happen\");\n\t\t}\n\t\t\n\t}\n})"]}},{"type":"js","data":"(function(){\n\n/////////////////////////////////////////////////////////////////////////\n//                                                                     //\n// client/templates/groups/add_user.js                                 //\n//                                                                     //\n/////////////////////////////////////////////////////////////////////////\n                                                                       //\nTemplate.addUser.events({                                              // 1\n\t'submit .add-user': function (e) {                                    // 2\n\t\te.preventDefault();                                                  // 3\n\t\tvar newUser = $(\"#userName\").val();                                  // 4\n\t\te.stopPropagation();                                                 // 5\n\t\tvar inGroup = Groups.findOne({ _id: this._id, people: { $in: [newUser] } }) == null;\n\t\tvar groupId = this._id;                                              // 7\n\t\tMeteor.call('doesUserExist', newUser, function (error, result) {     // 8\n\t\t\tif (result === 1 && inGroup) {                                      // 9\n\t\t\t\tMeteor.call('addUser', newUser, groupId);                          // 10\n\t\t\t\tconsole.log(\"New user added\");                                     // 11\n\t\t\t\tconsole.log(Groups.find().fetch());                                // 12\n\t\t\t} else {                                                            //\n\t\t\t\tconsole.log(\"no\");                                                 // 14\n\t\t\t}                                                                   //\n\t\t});                                                                  //\n\t}                                                                     //\n});                                                                    //\n/////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n","servePath":"/client/templates/groups/add_user.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/client/templates/groups/add_user.js"],"names":[],"mappings":";;;;;;;;AAAA,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC;AACvB,mBAAkB,EAAE,UAAS,CAAC,EAAE;AAC/B,GAAC,CAAC,cAAc,EAAE,CAAC;AACnB,MAAI,OAAO,GAAG,CAAC,CAAC,WAAW,CAAC,CAAC,GAAG,EAAE,CAAC;AACnC,GAAC,CAAC,eAAe,EAAE,CAAC;AACpB,MAAI,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,EAAC,GAAG,EAAE,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,EAAC,GAAG,EAAE,CAAC,OAAO,CAAC,EAAC,EAAC,CAAC,IAAI,IAAI,CAAC;AAChF,MAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC;AACvB,QAAM,CAAC,IAAI,CAAC,eAAe,EAAE,OAAO,EAAE,UAAU,KAAK,EAAE,MAAM,EAAE;AAC9D,OAAI,MAAM,KAAK,CAAC,IAAI,OAAO,EAAE;AAC5B,UAAM,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;AACzC,WAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;AAC9B,WAAO,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,KAAK,EAAE,CAAC,CAAC;IACnC,MAAM;AACN,WAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAClB;GACD,CAAC,CAAC;EAGH;CACD,CAAC,CAAC,sE","file":"/client/templates/groups/add_user.js","sourcesContent":["Template.addUser.events({\n\t'submit .add-user': function(e) { \n\t\te.preventDefault();\n\t\tvar newUser = $(\"#userName\").val();\n\t\te.stopPropagation();\n\t\tvar inGroup = Groups.findOne({_id: this._id, people: {$in: [newUser]}}) == null;\n\t\tvar groupId = this._id;\n\t\tMeteor.call('doesUserExist', newUser, function (error, result) {\n\t\t\tif (result === 1 && inGroup) {\n\t\t\t\tMeteor.call('addUser', newUser, groupId);\n\t\t\t\tconsole.log(\"New user added\");\n\t\t\t\tconsole.log(Groups.find().fetch());\n\t\t\t} else {\n\t\t\t\tconsole.log(\"no\");\n\t\t\t}\n\t\t});\n\n\t\t\n\t}\n});"]}},{"type":"js","data":"(function(){\n\n/////////////////////////////////////////////////////////////////////////\n//                                                                     //\n// client/templates/groups/delete_group.js                             //\n//                                                                     //\n/////////////////////////////////////////////////////////////////////////\n                                                                       //\nTemplate.deleteGroup.events({                                          // 1\n\t'submit .delete-group': function (e) {                                // 2\n\t\te.preventDefault();                                                  // 3\n\t\tvar response = prompt(\"If you really want to delete this group, please type out the group name.\");\n\t\tif (response === this.name) {                                        // 5\n\t\t\tRouter.go('/');                                                     // 6\n\t\t\tMeteor.call('deleteGroup', this._id);                               // 7\n\t\t}                                                                    //\n\t}                                                                     //\n});                                                                    //\n/////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n","servePath":"/client/templates/groups/delete_group.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/client/templates/groups/delete_group.js"],"names":[],"mappings":";;;;;;;;AAAA,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC;AAC3B,uBAAsB,EAAE,UAAS,CAAC,EAAE;AACnC,GAAC,CAAC,cAAc,EAAE,CAAC;AACnB,MAAI,QAAQ,GAAG,MAAM,CAAC,0EAA0E,CAAC,CAAC;AAClG,MAAI,QAAQ,KAAK,IAAI,CAAC,IAAI,EAAE;AAC3B,SAAM,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;AACf,SAAM,CAAC,IAAI,CAAC,aAAa,EAAC,IAAI,CAAC,GAAG,CAAC,CAAC;GACpC;EACD;CACD,CAAC,uE","file":"/client/templates/groups/delete_group.js","sourcesContent":["Template.deleteGroup.events({\n\t'submit .delete-group': function(e) {\n\t\te.preventDefault();\n\t\tvar response = prompt(\"If you really want to delete this group, please type out the group name.\");\n\t\tif (response === this.name) {\n\t\t\tRouter.go('/');\n\t\t\tMeteor.call('deleteGroup',this._id);\n\t\t}\n\t}\n})"]}},{"type":"js","data":"(function(){\n\n/////////////////////////////////////////////////////////////////////////\n//                                                                     //\n// client/templates/groups/group.js                                    //\n//                                                                     //\n/////////////////////////////////////////////////////////////////////////\n                                                                       //\nTemplate.group.events({                                                // 1\n\t'click .group': function (e) {                                        // 2\n\t\tSession.set('currentGroup', this.name);                              // 3\n\t\tconsole.log(this.name);                                              // 4\n\t}                                                                     //\n});                                                                    //\n/////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n","servePath":"/client/templates/groups/group.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/client/templates/groups/group.js"],"names":[],"mappings":";;;;;;;;AAAA,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC;AACrB,eAAc,EAAC,UAAS,CAAC,EAAC;AACzB,SAAO,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;AACvC,SAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;EACvB;CACD,CAAC,CAAC,sE","file":"/client/templates/groups/group.js","sourcesContent":["Template.group.events({\n\t'click .group':function(e){\n\t\tSession.set('currentGroup', this.name);\n\t\tconsole.log(this.name);\n\t}\n});"]}},{"type":"js","data":"(function(){\n\n/////////////////////////////////////////////////////////////////////////\n//                                                                     //\n// client/templates/groups/group_list.js                               //\n//                                                                     //\n/////////////////////////////////////////////////////////////////////////\n                                                                       //\nTemplate.groupList.helpers({                                           // 1\n\tgroups: function () {                                                 // 2\n\t\tvar currentUser = Meteor.user().username;                            // 3\n\t\treturn Groups.find({ people: { $in: [currentUser] } });              // 4\n\t\t//return Groups.find({createdBy: currentUser});                      //\n\t}                                                                     //\n});                                                                    //\n/////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n","servePath":"/client/templates/groups/group_list.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/client/templates/groups/group_list.js"],"names":[],"mappings":";;;;;;;;AAAA,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC;AAC1B,OAAM,EAAE,YAAU;AACjB,MAAI,WAAW,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC,QAAQ,CAAC;AACzC,SAAO,MAAM,CAAC,IAAI,CAAC,EAAC,MAAM,EAAE,EAAC,GAAG,EAAE,CAAC,WAAW,CAAC,EAAC,EAAC,CAAC,CAAC;;EAEnD;CACD,CAAC,CAAC,sE","file":"/client/templates/groups/group_list.js","sourcesContent":["Template.groupList.helpers({\n\tgroups: function(){\n\t\tvar currentUser = Meteor.user().username;\n\t\treturn Groups.find({people: {$in: [currentUser]}});\n\t\t//return Groups.find({createdBy: currentUser});\n\t}\n});"]}},{"type":"js","data":"(function(){\n\n/////////////////////////////////////////////////////////////////////////\n//                                                                     //\n// client/templates/groups/group_page.js                               //\n//                                                                     //\n/////////////////////////////////////////////////////////////////////////\n                                                                       //\nTemplate.groupPage.helpers({                                           // 1\n\townerOf: function () {                                                // 2\n\t\treturn this.createdBy === Meteor.user().username;                    // 3\n\t}                                                                     //\n});                                                                    //\n/////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n","servePath":"/client/templates/groups/group_page.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/client/templates/groups/group_page.js"],"names":[],"mappings":";;;;;;;;AAAA,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC;AAC1B,QAAO,EAAE,YAAW;AACnB,SAAO,IAAI,CAAC,SAAS,KAAK,MAAM,CAAC,IAAI,EAAE,CAAC,QAAQ,CAAC;EACjD;CACD,CAAC,uE","file":"/client/templates/groups/group_page.js","sourcesContent":["Template.groupPage.helpers({\n\townerOf: function() {\n\t\treturn this.createdBy === Meteor.user().username;\n\t}\n})"]}},{"type":"js","data":"(function(){\n\n/////////////////////////////////////////////////////////////////////////\n//                                                                     //\n// client/templates/messages/message.js                                //\n//                                                                     //\n/////////////////////////////////////////////////////////////////////////\n                                                                       //\nTemplate.registerHelper(\"getUsername\", function (userId) {             // 1\n\treturn Meteor.users.findOne({ _id: userId }).username;                // 2\n});                                                                    //\n/////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n","servePath":"/client/templates/messages/message.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/client/templates/messages/message.js"],"names":[],"mappings":";;;;;;;;AAAA,QAAQ,CAAC,cAAc,CAAC,aAAa,EAAE,UAAS,MAAM,EAAC;AACtD,QAAO,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,EAAC,GAAG,EAAE,MAAM,EAAC,CAAC,CAAC,QAAQ,CAAC;CACpD,CAAC,CAAC,sE","file":"/client/templates/messages/message.js","sourcesContent":["Template.registerHelper(\"getUsername\", function(userId){\n\treturn Meteor.users.findOne({_id: userId}).username;\n});"]}},{"type":"js","data":"(function(){\n\n/////////////////////////////////////////////////////////////////////////\n//                                                                     //\n// client/templates/messages/message_list.js                           //\n//                                                                     //\n/////////////////////////////////////////////////////////////////////////\n                                                                       //\nTemplate.messageList.onCreated(function () {                           // 1\n  var self = this;                                                     // 2\n  Session.set('loaded', false);                                        // 3\n  self.autorun(function () {                                           // 4\n    Meteor.subscribe('messages', Router.current().params._id, function () {\n      console.log(\"params id \" + Router.current().params._id);         // 6\n      Session.set('loaded', true);                                     // 7\n      console.log(\"subscribe 2\");                                      // 8\n    });                                                                //\n  });                                                                  //\n});                                                                    //\n                                                                       //\nTemplate.messageList.helpers({                                         // 14\n  messages: function () {                                              // 15\n    return Messages.find();                                            // 16\n  }                                                                    //\n});                                                                    //\n                                                                       //\nTemplate.messageList.events({                                          // 20\n  'click .textClass': function (e, template) {                         // 21\n    console.log($(e.currentTarget).data(\"id\"));                        // 22\n    Meteor.call(\"messageVote\", $(e.currentTarget).data(\"id\"));         // 23\n    // alert('id: ' + $(e.currentTarget).(\"votes\"));                   //\n  }                                                                    //\n});                                                                    //\n                                                                       //\nTemplate.messageList.onRendered(function () {                          // 28\n  var graph,                                                           // 29\n      color = d3.scale.category10();                                   //\n  var maxLife = 5 * 2 * 1000;                                          // 31\n  graph = new myGraph(\"#vis\");                                         // 32\n  Messages.find().observe({                                            // 33\n    added: function (doc) {                                            // 34\n      graph.addNode(doc);                                              // 35\n    },                                                                 //\n    removed: function (doc) {                                          // 37\n      graph.removeNode(doc);                                           // 38\n    },                                                                 //\n    changed: function (updated, old) {                                 // 40\n      graph.updateNode(updated, old);                                  // 41\n    }                                                                  //\n  });                                                                  //\n                                                                       //\n  function myGraph(el) {                                               // 45\n                                                                       //\n    this.updateNode = function (updated, old) {                        // 47\n      console.log(\"updateNode\");                                       // 48\n      var n = findNode(old._id);                                       // 49\n      // // debugger                                                   //\n      n.votes = updated.votes;                                         // 51\n      // nodes.splice(findNodeIndex(n),1);                             //\n      // nodes.push(n);                                                //\n      //     debugger                                                  //\n      //     var node = vis.selectAll(\"g.node\")                        //\n      //      .data(nodes, function(d) { return d._id; })              //\n      //      .attr(\"id\",function(d){return \"node-\"+ d._id});          //\n      // // debugger                                                   //\n      //     node.transition().duration(100);                          //\n      //     node.style(\"opacity\",1);                                  //\n      // debugger                                                      //\n      d3.select(\"#node-\" + n._id).transition().duration(100).style(\"fill\", \"red\");\n      // .style(\"opacity\",function(d){console.log(d.text + \" \" + d.life);return d.life/maxLife})\n      // .transition()                                                 //\n      // .duration(function(d){console.log(\"clicked\");return 5000;})   //\n      // .each('end',function(d){                                      //\n      //   removeNode(d);                                              //\n      // });                                                           //\n    };                                                                 //\n                                                                       //\n    this.addNode = function (doc) {                                    // 74\n      nodes.push(doc);                                                 // 75\n      update();                                                        // 76\n    };                                                                 //\n                                                                       //\n    this.removeNode = function (doc) {                                 // 79\n      var i = 0;                                                       // 80\n      var n = findNode(doc._id);                                       // 81\n      nodes.splice(findNodeIndex(doc), 1);                             // 82\n      update();                                                        // 83\n    };                                                                 //\n                                                                       //\n    var removeNode = function (doc) {                                  // 86\n      var i = 0;                                                       // 87\n      var n = findNode(doc._id);                                       // 88\n      nodes.splice(findNodeIndex(doc), 1);                             // 89\n      update();                                                        // 90\n    };                                                                 //\n                                                                       //\n    var findNode = function (id) {                                     // 93\n      for (var i in babelHelpers.sanitizeForInObject(nodes)) {         // 94\n        if (nodes[i]._id === id) return nodes[i];                      // 95\n      };                                                               //\n    };                                                                 //\n                                                                       //\n    var findNodeIndex = function (doc) {                               // 98\n      for (var i = 0; i < nodes.length; i++) {                         // 99\n        if (nodes[i].id == doc._id) {                                  // 100\n          return i;                                                    // 101\n        }                                                              //\n      };                                                               //\n    };                                                                 //\n                                                                       //\n    var w = 500,                                                       // 106\n        h = 500;                                                       //\n    var svg = d3.select(el).append(\"svg:svg\").attr(\"width\", w).attr(\"height\", h).attr(\"id\", \"svg\").attr(\"pointer-events\", \"all\").attr(\"viewBox\", \"0 0 \" + w + \" \" + h).attr(\"perserveAspectRatio\", \"xMinYMid\");\n                                                                       //\n    var vis = svg.append('svg:g');                                     // 117\n                                                                       //\n    var force = d3.layout.force();                                     // 119\n                                                                       //\n    var nodes = force.nodes();                                         // 121\n                                                                       //\n    var label = d3.select(\"#bubble-labels\");                           // 123\n                                                                       //\n    var update = function () {                                         // 126\n                                                                       //\n      var node = vis.selectAll(\"g.node\").data(nodes, function (d) {    // 128\n        return d._id;                                                  // 129\n      }).attr(\"id\", function (d) {                                     //\n        return \"node-\" + d._id;                                        // 130\n      });                                                              //\n                                                                       //\n      var nodeEnter = node.enter().append(\"g\").attr(\"class\", \"node\").attr(\"id\", function (d) {\n        return \"name\" + d._id;                                         // 134\n      }).call(force.drag);                                             //\n                                                                       //\n      nodeEnter.append(\"svg:circle\").attr(\"r\", function (d) {          // 137\n        return d.radius;                                               // 138\n      }).attr(\"id\", function (d) {                                     //\n        return \"Node;\" + d.id;                                         // 139\n      }).attr(\"class\", \"nodeStrokeClass\").style(\"fill\", function (d, i) {\n        return \"white\";                                                // 141\n      }).style(\"opacity\", 0);                                          //\n                                                                       //\n      nodeEnter.append(\"svg:text\").attr(\"class\", \"textClass\").style(\"fill\", function (d, i) {\n        return color(i % 3);                                           // 146\n      }).text(function (d) {                                           //\n        return d.text;                                                 // 147\n      }).style(\"opacity\", function (d) {                               //\n        console.log(d.text + \" \" + d.life);return d.life / maxLife;    // 148\n      }).transition().duration(function (d) {                          //\n        return d.life;                                                 // 150\n      }).style(\"opacity\", 0).each('end', function (d) {                //\n        removeNode(d);                                                 // 153\n      }).attr(\"data-id\", function (d) {                                //\n        return d._id;                                                  // 156\n      }).attr(\"id\", function (d) {                                     //\n        return \"node-\" + d._id;                                        // 159\n      });                                                              //\n                                                                       //\n      //foreign object solution                                        //\n      // nodeEnter.append(\"foreignObject\")                             //\n      //   .attr(\"class\",\"textClass2\")                                 //\n      //   .attr('x', -150/2)                                          //\n      //   .attr('y', -20)                                             //\n      //   .attr(\"width\", 150)                                         //\n      //   .attr(\"height\", 200)                                        //\n      //   .append(\"xhtml:p\")                                          //\n      //   .attr('style','word-wrap: break-word; text-align:center;')  //\n      //   .style(\"color\",function(d,i){return color(i%3);})           //\n      //   .html(function(d){return d.text})                           //\n      //   .transition()                                               //\n      //   .duration(500)                                              //\n      //   .style(\"opacity\",0);                                        //\n                                                                       //\n      node.exit().remove();                                            // 178\n                                                                       //\n      force.on(\"tick\", function () {                                   // 181\n        var q = d3.geom.quadtree(nodes),                               // 182\n            i = 0,                                                     //\n            n = nodes.length;                                          //\n                                                                       //\n        while (++i < n) q.visit(collide(nodes[i]));                    // 186\n        node.attr(\"transform\", function (d) {                          // 187\n          return \"translate(\" + d.x + \",\" + d.y + \")\";                 // 187\n        });                                                            //\n                                                                       //\n        d3.select(\"#bubble-labels\").selectAll(\".bubble-label\").style(\"left\", function (d) {\n          return d.x - d.radius / 2 + \"px\";                            // 190\n        }).style(\"top\", function (d) {                                 //\n          return d.y + 120 - d.radius / 2 + \"px\";                      // 191\n        });                                                            //\n      });                                                              //\n                                                                       //\n      function collide(node) {                                         // 194\n        // console.log(\"collide\");                                     //\n        var r = node.radius + 16,                                      // 196\n            nx1 = node.x - r,                                          //\n            nx2 = node.x + r,                                          //\n            ny1 = node.y - r,                                          //\n            ny2 = node.y + r;                                          //\n        return function (quad, x1, y1, x2, y2) {                       // 201\n          if (quad.point && quad.point !== node) {                     // 202\n            var x = node.x - quad.point.x,                             // 203\n                y = node.y - quad.point.y,                             //\n                l = Math.sqrt(x * x + y * y),                          //\n                r = node.radius + quad.point.radius;                   //\n            if (l < r) {                                               // 207\n              l = (l - r) / l * .5;                                    // 208\n              node.x -= x *= l;                                        // 209\n              node.y -= y *= l;                                        // 210\n              quad.point.x += x;                                       // 211\n              quad.point.y += y;                                       // 212\n            }                                                          //\n          }                                                            //\n          return x1 > nx2 || x2 < nx1 || y1 > ny2 || y2 < ny1;         // 215\n        };                                                             //\n      }                                                                //\n                                                                       //\n      force.gravity(.05).size([w, h]).start();                         // 219\n    };                                                                 //\n                                                                       //\n    update();                                                          // 225\n  }                                                                    //\n});                                                                    //\n/////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n","servePath":"/client/templates/messages/message_list.js","sourceMap":{"version":3,"sources":["/client/templates/messages/message_list.js"],"names":[],"mappings":"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","file":"/client/templates/messages/message_list.js","sourcesContent":["Template.messageList.onCreated(function(){\n\tvar self = this;\n  Session.set('loaded',false);\n\tself.autorun(function(){\n\t\tMeteor.subscribe('messages', Router.current().params._id, function(){\n      console.log(\"params id \"+Router.current().params._id);\n      Session.set('loaded',true);\n      console.log(\"subscribe 2\");\n    });\n\t});\n});\n\n\nTemplate.messageList.helpers({\n\tmessages: function(){\n\t\treturn Messages.find();\n\t}\n});\n\nTemplate.messageList.events({\n\t'click .textClass':function(e, template){\n    console.log($(e.currentTarget).data(\"id\"));\n    Meteor.call(\"messageVote\",$(e.currentTarget).data(\"id\"));\n    // alert('id: ' + $(e.currentTarget).(\"votes\"));\n\t}\n});\n\nTemplate.messageList.onRendered(function(){\nvar graph,\n    color = d3.scale.category10();\nvar maxLife = (5)*(2)*(1000);\ngraph = new myGraph(\"#vis\");\nMessages.find().observe({\n  added: function (doc) {\n    graph.addNode(doc);\n  },\n  removed: function (doc) {\n    graph.removeNode(doc);\n  },\n  changed: function(updated, old){\n    graph.updateNode(updated,old);\n  }\n});\n\nfunction myGraph(el){\n\n  this.updateNode = function(updated, old){\n    console.log(\"updateNode\"); \n    var n = findNode(old._id);\n    // // debugger\n    n.votes = updated.votes;\n    // nodes.splice(findNodeIndex(n),1);\n    // nodes.push(n);\n//     debugger\n//     var node = vis.selectAll(\"g.node\")\n//      .data(nodes, function(d) { return d._id; })\n//      .attr(\"id\",function(d){return \"node-\"+ d._id});\n// // debugger\n//     node.transition().duration(100);\n//     node.style(\"opacity\",1);\n// debugger\n    d3.select(\"#node-\"+n._id)\n    .transition()\n    .duration(100)\n    .style(\"fill\",\"red\");\n    // .style(\"opacity\",function(d){console.log(d.text + \" \" + d.life);return d.life/maxLife})\n    // .transition()\n    // .duration(function(d){console.log(\"clicked\");return 5000;})\n    // .each('end',function(d){\n    //   removeNode(d);\n    // });\n  };\n\n  this.addNode = function(doc){\n    nodes.push(doc);\n    update();\n  };\n\n  this.removeNode = function (doc) {\n    var i = 0;\n    var n = findNode(doc._id);\n    nodes.splice(findNodeIndex(doc),1);\n    update();\n  };\n\n  var removeNode = function (doc) {\n    var i = 0;\n    var n = findNode(doc._id);\n    nodes.splice(findNodeIndex(doc),1);\n    update();\n  };\n  \n  var findNode = function(id) {\n    for (var i in nodes) {\n      if (nodes[i]._id === id) return nodes[i];};\n  };\n\n  var findNodeIndex = function(doc) {\n    for (var i=0;i<nodes.length;i++) {\n      if (nodes[i].id==doc._id){\n        return i;\n      }\n    };\n  };\n\n  var w = 500,\n      h = 500;\n  var svg = d3.select(el)\n    .append(\"svg:svg\")\n    .attr(\"width\", w)\n    .attr(\"height\", h)\n    .attr(\"id\",\"svg\")\n    .attr(\"pointer-events\", \"all\")\n    .attr(\"viewBox\",\"0 0 \"+w+\" \"+h)\n    .attr(\"perserveAspectRatio\",\"xMinYMid\");\n\n  var vis = svg.append('svg:g');\n\n  var force = d3.layout.force();\n\n  var nodes = force.nodes();\n  \n  var label = d3.select(\"#bubble-labels\");\n\n\n  var update = function(){\n\n  var node = vis.selectAll(\"g.node\")\n    .data(nodes, function(d) { return d._id; })\n    .attr(\"id\",function(d){return \"node-\"+ d._id});\n\n  var nodeEnter = node.enter().append(\"g\")\n    .attr(\"class\",\"node\")\n    .attr(\"id\",function(d){return \"name\"+d._id})\n    .call(force.drag);\n\n  nodeEnter.append(\"svg:circle\")\n    .attr(\"r\",function(d){return d.radius;})\n    .attr(\"id\", function(d){return \"Node;\" + d.id})\n    .attr(\"class\",\"nodeStrokeClass\")\n    .style(\"fill\", function(d, i) { return \"white\"; })\n    .style(\"opacity\",0);\n\n  nodeEnter.append(\"svg:text\")\n    .attr(\"class\",\"textClass\")      \n    .style(\"fill\",function(d,i){return color(i%3);})\n    .text(function(d){return d.text})\n    .style(\"opacity\",function(d){console.log(d.text + \" \" + d.life);return d.life/maxLife})\n    .transition()\n    .duration(function(d){return d.life})\n    .style(\"opacity\",0)\n    .each('end',function(d){\n      removeNode(d);\n    })\n    .attr(\"data-id\", function(d){\n        return d._id;\n    })\n    .attr(\"id\", function(d){\n        return \"node-\"+d._id;\n    });\n\n//foreign object solution\n  // nodeEnter.append(\"foreignObject\")\n  //   .attr(\"class\",\"textClass2\")\n  //   .attr('x', -150/2)\n  //   .attr('y', -20)\n  //   .attr(\"width\", 150)\n  //   .attr(\"height\", 200)\n  //   .append(\"xhtml:p\")\n  //   .attr('style','word-wrap: break-word; text-align:center;')\n  //   .style(\"color\",function(d,i){return color(i%3);})\n  //   .html(function(d){return d.text})\n  //   .transition()\n  //   .duration(500)\n  //   .style(\"opacity\",0);\n    \n\n  node.exit().remove();\n\n\n  force.on(\"tick\", function() {\n    var q = d3.geom.quadtree(nodes),\n        i = 0,\n        n = nodes.length;\n\n    while (++i < n) q.visit(collide(nodes[i]));\n    node.attr(\"transform\", function(d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; });\n\n    d3.select(\"#bubble-labels\").selectAll(\".bubble-label\")\n      .style(\"left\", function(d){return ( d.x  - d.radius/2 + \"px\" );})\n      .style(\"top\", function(d){return (  d.y + 120 - d.radius/2 + \"px\" ); });\n  });\n\n    function collide(node) {\n      // console.log(\"collide\");\n      var r = node.radius + 16,\n          nx1 = node.x - r,\n          nx2 = node.x + r,\n          ny1 = node.y - r,\n          ny2 = node.y + r;\n      return function(quad, x1, y1, x2, y2) {\n        if (quad.point && (quad.point !== node)) {\n          var x = node.x - quad.point.x,\n              y = node.y - quad.point.y,\n              l = Math.sqrt(x * x + y * y),\n              r = node.radius + quad.point.radius;\n          if (l < r ) {\n            l = (l - r) / l * .5;\n            node.x -= x *= l;\n            node.y -= y *= l;\n            quad.point.x += x;\n            quad.point.y += y;\n          }\n        }\n        return x1 > nx2 || x2 < nx1 || y1 > ny2 || y2 < ny1;\n      };\n    }\n\n      force\n        .gravity(.05)\n        .size([w, h])\n        .start();\n  };\n\n  update();\n\n}\n\n});\n"]}},{"type":"js","data":"(function(){\n\n/////////////////////////////////////////////////////////////////////////\n//                                                                     //\n// client/templates/messages/message_send.js                           //\n//                                                                     //\n/////////////////////////////////////////////////////////////////////////\n                                                                       //\nvar linearScale = d3.scale.linear().domain([0, 250]).range([30, 300]);\n                                                                       //\nTemplate.messageSend.events({                                          // 3\n\t\"submit .submit-message\": function (e, t) {                           // 4\n                                                                       //\n\t\tconsole.log(t.data._id);                                             // 6\n                                                                       //\n\t\te.preventDefault();                                                  // 8\n\t\tvar input = $(\"#message-input\").val();                               // 9\n                                                                       //\n\t\tconsole.log(input);                                                  // 11\n\t\tconsole.log(\"submitted\");                                            // 12\n                                                                       //\n\t\t// e.stopPropagation();                                              //\n                                                                       //\n\t\tvar message = {                                                      // 16\n\t\t\tuserId: Meteor.userId(),                                            // 17\n\t\t\ttext: input,                                                        // 18\n\t\t\ttimestamp: Date.now(),                                              // 19\n\t\t\tgroupId: t.data._id,                                                // 20\n\t\t\tgroupName: Session.get(\"currentGroup\"),                             // 21\n\t\t\ttransparency: 1,                                                    // 22\n\t\t\tradius: linearScale(input.length),                                  // 23\n\t\t\tlive: 1                                                             // 24\n\t\t};                                                                   //\n                                                                       //\n\t\tMeteor.call(\"messageSend\", message, function (err, result) {         // 27\n\t\t\tif (err) {                                                          // 28\n\t\t\t\treturn alert(\"there's an error\");                                  // 29\n\t\t\t}                                                                   //\n\t\t\t// Router.go('groupPage',{_id: this._id});                          //\n\t\t});                                                                  //\n                                                                       //\n\t\t$(\"#message-input\").val(\"\");                                         // 34\n\t\t// Router.go('groupPage',)                                           //\n\t\t// debugger                                                          //\n\t}                                                                     //\n});                                                                    //\n/////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n","servePath":"/client/templates/messages/message_send.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/client/templates/messages/message_send.js"],"names":[],"mappings":";;;;;;;;AAAA,IAAI,WAAW,GAAG,EAAE,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,EAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,EAAC,GAAG,CAAC,CAAC,CAAC;;AAEpE,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC;AAC3B,yBAAwB,EAAE,UAAS,CAAC,EAAE,CAAC,EAAC;;AAEvC,SAAO,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;;AAExB,GAAC,CAAC,cAAc,EAAE,CAAC;AACnB,MAAI,KAAK,GAAG,CAAC,CAAC,gBAAgB,CAAC,CAAC,GAAG,EAAE,CAAC;;AAEtC,SAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AACnB,SAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;;;;AAIzB,MAAI,OAAO,GAAG;AACb,SAAM,EAAC,MAAM,CAAC,MAAM,EAAE;AACtB,OAAI,EAAE,KAAK;AACX,YAAS,EAAE,IAAI,CAAC,GAAG,EAAE;AACrB,UAAO,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG;AACnB,YAAS,EAAE,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC;AACtC,eAAY,EAAE,CAAC;AACf,SAAM,EAAE,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC;AACjC,OAAI,EAAE,CAAC;GACP,CAAC;;AAEF,QAAM,CAAC,IAAI,CAAC,aAAa,EAAE,OAAO,EAAE,UAAS,GAAG,EAAE,MAAM,EAAC;AACxD,OAAG,GAAG,EAAC;AACN,WAAO,KAAK,CAAC,kBAAkB,CAAC,CAAC;IACjC;;GAED,CAAC,CAAC;;AAEH,GAAC,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;;;EAG5B;CACD,CAAC,CAAC,sE","file":"/client/templates/messages/message_send.js","sourcesContent":["var linearScale = d3.scale.linear().domain([0,250]).range([30,300]);\n\nTemplate.messageSend.events({\n\t\"submit .submit-message\": function(e, t){\n\n\t\tconsole.log(t.data._id);\n\n\t\te.preventDefault();\n\t\tvar input = $(\"#message-input\").val();\n\n\t\tconsole.log(input);\n\t\tconsole.log(\"submitted\");\n\n\t\t// e.stopPropagation();\n\n\t\tvar message = {\n\t\t\tuserId:Meteor.userId(), \n\t\t\ttext: input,\n\t\t\ttimestamp: Date.now(),\n\t\t\tgroupId: t.data._id,\n\t\t\tgroupName: Session.get(\"currentGroup\"),\n\t\t\ttransparency: 1,\n\t\t\tradius: linearScale(input.length),\n\t\t\tlive: 1\n\t\t};\n\n\t\tMeteor.call(\"messageSend\", message, function(err, result){\n\t\t\tif(err){\n\t\t\t\treturn alert(\"there's an error\");\n\t\t\t}\n\t\t\t// Router.go('groupPage',{_id: this._id});\n\t\t});\n\n\t\t$(\"#message-input\").val(\"\");\n\t\t// Router.go('groupPage',)\n\t\t// debugger\n\t}\n});"]}},{"type":"js","data":"(function(){\n\n/////////////////////////////////////////////////////////////////////////\n//                                                                     //\n// client/configs.js                                                   //\n//                                                                     //\n/////////////////////////////////////////////////////////////////////////\n                                                                       //\nAccounts.ui.config({                                                   // 1\n    passwordSignupFields: 'USERNAME_ONLY'                              // 2\n});                                                                    //\n/////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n","servePath":"/client/configs.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/client/configs.js"],"names":[],"mappings":";;;;;;;;AAAA,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;AACf,wBAAoB,EAAE,eAAe;CACxC,CAAC,CAAC,sE","file":"/client/configs.js","sourcesContent":["Accounts.ui.config({\n    passwordSignupFields: 'USERNAME_ONLY'\n});"]}},{"type":"js","data":"(function(){\n\n/////////////////////////////////////////////////////////////////////////\n//                                                                     //\n// client/main.js                                                      //\n//                                                                     //\n/////////////////////////////////////////////////////////////////////////\n                                                                       //\n// Meteor.subscribe('messages');                                       //\nMeteor.subscribe('groups');                                            // 2\n                                                                       //\nMeteor.startup(function () {                                           // 4\n\tSession.set(\"currentGroup\", this.name);                               // 5\n});                                                                    //\n/////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n","servePath":"/client/main.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/client/main.js"],"names":[],"mappings":";;;;;;;;;AACA,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;;AAE3B,MAAM,CAAC,OAAO,CAAC,YAAU;AACxB,QAAO,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;CACvC,CAAC,CAAC,sE","file":"/client/main.js","sourcesContent":["// Meteor.subscribe('messages');\nMeteor.subscribe('groups');\n\nMeteor.startup(function(){\n\tSession.set(\"currentGroup\", this.name);\n});\n\n"]}}]